<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  
  

  <title>
    阿里云服务器linux-centos 常用命令，真实用！ | 碎碎念ZWS
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="keywords" content=",阿里云服务器linux-centos 常用命令，真实用！" />
  <meta name="description" content="做一个爱写笔记的攻城狮，记录生活，记录你" />
  <meta name="version" content="2024-01-26 12:17:15" />
  <link rel="icon" href="/img/favicon.ico" />
  
<link rel="stylesheet" href="/css/main.css">

  
  
<link rel="stylesheet" href="/css/highlight.css">

  
  
  <script type="text/javascript"> (function(c,l,a,r,i,t,y){ c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)}; t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i; y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y); })(window, document, "clarity", "script", "jwgk6nzppu"); </script>
  
  
<meta name="generator" content="Hexo 6.3.0"></head>

</html>
<body class="is-animated" >
  <div style="display:none">
    <svg style="position: absolute; width: 0; height: 0;" width="0" height="0" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <defs>
        <symbol id="icon-heart" viewBox="0 0 1024 1024">
          <title>heart</title>
          <path class="path1" d="M755.188 64c-107.63 0-200.258 87.554-243.164 179-42.938-91.444-135.578-179-243.216-179-148.382 0-268.808 120.44-268.808 268.832 0 301.846 304.5 380.994 512.022 679.418 196.154-296.576 511.978-387.206 511.978-679.418 0-148.392-120.43-268.832-268.812-268.832z"></path>
        </symbol>
        <symbol id="icon-twitter" viewBox="0 0 1024 1024">
          <title>twitter</title>
          <path class="path1" d="M1024 226.4c-37.6 16.8-78.2 28-120.6 33 43.4-26 76.6-67.2 92.4-116.2-40.6 24-85.6 41.6-133.4 51-38.4-40.8-93-66.2-153.4-66.2-116 0-210 94-210 210 0 16.4 1.8 32.4 5.4 47.8-174.6-8.8-329.4-92.4-433-219.6-18 31-28.4 67.2-28.4 105.6 0 72.8 37 137.2 93.4 174.8-34.4-1-66.8-10.6-95.2-26.2 0 0.8 0 1.8 0 2.6 0 101.8 72.4 186.8 168.6 206-17.6 4.8-36.2 7.4-55.4 7.4-13.6 0-26.6-1.4-39.6-3.8 26.8 83.4 104.4 144.2 196.2 146-72 56.4-162.4 90-261 90-17 0-33.6-1-50.2-3 93.2 59.8 203.6 94.4 322.2 94.4 386.4 0 597.8-320.2 597.8-597.8 0-9.2-0.2-18.2-0.6-27.2 41-29.4 76.6-66.4 104.8-108.6z"></path>
        </symbol>
        <symbol id="icon-sina-weibo" viewBox="0 0 1024 1024">
          <title>sina-weibo</title>
          <path class="path1" d="M430.2 898c-169.6 16.8-316-60-327-171.2-11-111.4 117.6-215 287-231.8 169.6-16.8 316 60 326.8 171.2 11.2 111.4-117.4 215.2-286.8 231.8zM769.2 528.6c-14.4-4.4-24.4-7.2-16.8-26.2 16.4-41.2 18-76.6 0.2-102-33.2-47.4-124.2-45-228.4-1.2 0 0-32.8 14.2-24.4-11.6 16-51.6 13.6-94.6-11.4-119.6-56.6-56.6-207 2.2-336 131.2-96.4 96.2-152.4 198.8-152.4 287.4 0 169.2 217.2 272.2 429.6 272.2 278.4 0 463.8-161.8 463.8-290.2 0-77.8-65.4-121.8-124.2-140z"></path>
          <path class="path2" d="M954.2 218.6c-67.2-74.6-166.4-103-258-83.6v0c-21.2 4.6-34.6 25.4-30 46.4 4.6 21.2 25.2 34.6 46.4 30 65.2-13.8 135.6 6.4 183.4 59.4s60.8 125.2 40.2 188.4v0c-6.6 20.6 4.6 42.6 25.2 49.4 20.6 6.6 42.6-4.6 49.4-25.2v-0.2c28.8-88.4 10.6-190-56.6-264.6z"></path>
          <path class="path3" d="M850.8 312c-32.8-36.4-81.2-50.2-125.6-40.6-18.2 3.8-29.8 22-26 40.2 4 18.2 22 29.8 40 25.8v0c21.8-4.6 45.4 2.2 61.4 19.8 16 17.8 20.4 42 13.4 63.2v0c-5.6 17.6 4 36.8 21.8 42.6 17.8 5.6 36.8-4 42.6-21.8 14-43.4 5.2-93-27.6-129.2z"></path>
          <path class="path4" d="M439.6 696.6c-6 10.2-19 15-29.2 10.8-10.2-4-13.2-15.6-7.4-25.4 6-9.8 18.6-14.6 28.6-10.8 10 3.6 13.6 15 8 25.4zM385.4 765.8c-16.4 26.2-51.6 37.6-78 25.6-26-11.8-33.8-42.2-17.4-67.8 16.2-25.4 50.2-36.8 76.4-25.8 26.6 11.4 35.2 41.6 19 68zM447 580.6c-80.6-21-171.8 19.2-206.8 90.2-35.8 72.4-1.2 153 80.2 179.4 84.4 27.2 184-14.6 218.6-92.6 34.2-76.6-8.4-155.2-92-177z"></path>
        </symbol>
        <symbol id="icon-rss" viewBox="0 0 1024 1024">
          <title>rss</title>
          <path class="path1" d="M136.294 750.93c-75.196 0-136.292 61.334-136.292 136.076 0 75.154 61.1 135.802 136.292 135.802 75.466 0 136.494-60.648 136.494-135.802-0.002-74.742-61.024-136.076-136.494-136.076zM0.156 347.93v196.258c127.784 0 247.958 49.972 338.458 140.512 90.384 90.318 140.282 211.036 140.282 339.3h197.122c-0.002-372.82-303.282-676.070-675.862-676.070zM0.388 0v196.356c455.782 0 826.756 371.334 826.756 827.644h196.856c0-564.47-459.254-1024-1023.612-1024z"></path>
        </symbol>
        <symbol id="icon-github" viewBox="0 0 1024 1024">
          <title>github</title>
          <path class="path1" d="M512.008 12.642c-282.738 0-512.008 229.218-512.008 511.998 0 226.214 146.704 418.132 350.136 485.836 25.586 4.738 34.992-11.11 34.992-24.632 0-12.204-0.48-52.542-0.696-95.324-142.448 30.976-172.504-60.41-172.504-60.41-23.282-59.176-56.848-74.916-56.848-74.916-46.452-31.778 3.51-31.124 3.51-31.124 51.4 3.61 78.476 52.766 78.476 52.766 45.672 78.27 119.776 55.64 149.004 42.558 4.588-33.086 17.852-55.68 32.506-68.464-113.73-12.942-233.276-56.85-233.276-253.032 0-55.898 20.004-101.574 52.76-137.428-5.316-12.9-22.854-64.972 4.952-135.5 0 0 43.006-13.752 140.84 52.49 40.836-11.348 84.636-17.036 128.154-17.234 43.502 0.198 87.336 5.886 128.256 17.234 97.734-66.244 140.656-52.49 140.656-52.49 27.872 70.528 10.35 122.6 5.036 135.5 32.82 35.856 52.694 81.532 52.694 137.428 0 196.654-119.778 239.95-233.79 252.624 18.364 15.89 34.724 47.046 34.724 94.812 0 68.508-0.596 123.644-0.596 140.508 0 13.628 9.222 29.594 35.172 24.566 203.322-67.776 349.842-259.626 349.842-485.768 0-282.78-229.234-511.998-511.992-511.998z"></path>
        </symbol>

        <symbol id="icon-deploy" viewBox="0 0 1024 1024">
          <title>deploy</title>
          <path class="path1" d="M902 32L992 92.192l-90.912 855.264L812 992l-212.336-136.256L294.176 992l-82.176-60 30-298.176L32 475.008v-117.344L902 32z m-153.056 197.456L177.072 431.168l184.928 140.928-30 273.44 272.336-123.168 181.632 119.952 67.616-544.208L577.92 636.304l-101.232-82.88L748.944 229.44z" fill="#0078FF" p-id="2531"></path>
        </symbol>

      </defs>
    </svg>
  </div>
  <div class="surface-content">
    <header class="site-header">
  <hgroup>
    <h1 class="site-title">
      <a href="http://zhuweisheng.com.cn" class="logo" title="从前端菜鸟到前端码农">碎碎念ZWS</a>
    </h1>
    <p class="site-description">做一个爱写笔记的攻城狮，记录生活，记录你</p>
  </hgroup>
  <div class="site-nav">
    <ul class="topNav-items">
      
        <li class="menu-item"><a class="main-nav-link" href="/">首页</a></li>
      
        <li class="menu-item"><a class="main-nav-link" href="/categories">分类</a></li>
      
        <li class="menu-item"><a class="main-nav-link" href="/friends">链接</a></li>
      
        <li class="menu-item"><a class="main-nav-link" href="/we">我们</a></li>
      
        <li class="menu-item"><a class="main-nav-link" href="/archives">归档</a></li>
      
        <li class="menu-item"><a class="main-nav-link" href="/tags">标签</a></li>
      
        <li class="menu-item"><a class="main-nav-link" href="/about">关于</a></li>
      
    </ul>
  </div>
  <div class="site-icons">
    
      <a href="/sitemap.xml" target="_blank" class="rss-link"><svg class="icon icon-rss"><use xlink:href="#icon-rss"></use></svg></a>
    
      <a href="https://github.com/nooldey" target="_blank" class="rss-link"><svg class="icon icon-github"><use xlink:href="#icon-github"></use></svg></a>
    
      <a href="/love" target="_blank" class="rss-link"><svg class="icon icon-heart"><use xlink:href="#icon-heart"></use></svg></a>
    
  </div>
</header>
    <div class="container">
      <section class="main-content"><article id="post-tech/linux-command-list" class="post-item">
  
  <header class="post-header">
    
  
    <h2 class="post-title">
      阿里云服务器linux-centos 常用命令，真实用！
    </h2>
  

    <div class="post-meta">
      <time class="article-date" datetime="2015-10-27T12:15:13.000Z" itemprop="datePublished">2015-10-27</time>

    </div>
  </header>
  

  <div class="grap">
    <p>在操作云服务器，特别是linux系统环境下的服务器时，以下指令信息可以作为操作时的对比参考。<br>省去频繁百度linux指令的麻烦。</p>
<span id="more"></span>
<h2 id="系统信息"><a href="#系统信息" class="headerlink" title="系统信息"></a>系统信息</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">arch 显示机器的处理器架构<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">uname</span> <span class="token parameter variable">-m</span> 显示机器的处理器架构<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">uname</span> <span class="token parameter variable">-r</span> 显示正在使用的内核版本
dmidecode <span class="token parameter variable">-q</span> 显示硬件系统部件 - <span class="token punctuation">(</span>SMBIOS / DMI<span class="token punctuation">)</span>
hdparm <span class="token parameter variable">-i</span> /dev/hda 罗列一个磁盘的架构特性
hdparm <span class="token parameter variable">-tT</span> /dev/sda 在磁盘上执行测试性读取操作
<span class="token function">cat</span> /proc/cpuinfo 显示CPU info的信息
<span class="token function">cat</span> /proc/interrupts 显示中断
<span class="token function">cat</span> /proc/meminfo 校验内存使用
<span class="token function">cat</span> /proc/swaps 显示哪些swap被使用
<span class="token function">cat</span> /proc/version 显示内核的版本
<span class="token function">cat</span> /proc/net/dev 显示网络适配器及统计
<span class="token function">cat</span> /proc/mounts 显示已加载的文件系统
lspci <span class="token parameter variable">-tv</span> 罗列 PCI 设备
lsusb <span class="token parameter variable">-tv</span> 显示 USB 设备
<span class="token function">date</span> 显示系统日期
<span class="token function">cal</span> <span class="token number">2007</span> 显示2007年的日历表
<span class="token function">date</span> 041217002007.00 设置日期和时间 - 月日时分年.秒
clock <span class="token parameter variable">-w</span> 将时间修改保存到 BIOS<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="关机"><a href="#关机" class="headerlink" title="关机"></a>关机</h2><p>(系统的关机、重启以及登出 )</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">shutdown</span> <span class="token parameter variable">-h</span> now 关闭系统<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
init <span class="token number">0</span> 关闭系统<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
telinit <span class="token number">0</span> 关闭系统<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token function">shutdown</span> <span class="token parameter variable">-h</span> hours:minutes <span class="token operator">&amp;</span> 按预定时间关闭系统
<span class="token function">shutdown</span> <span class="token parameter variable">-c</span> 取消按预定时间关闭系统
<span class="token function">shutdown</span> <span class="token parameter variable">-r</span> now 重启<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">reboot</span> 重启<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token builtin class-name">logout</span> 注销 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="文件和目录"><a href="#文件和目录" class="headerlink" title="文件和目录"></a>文件和目录</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> /home 进入 <span class="token string">'/ home'</span> 目录<span class="token string">'
cd .. 返回上一级目录
cd ../.. 返回上两级目录
cd 进入个人的主目录
cd ~user1 进入个人的主目录
cd - 返回上次所在的目录
pwd 显示工作路径
ls 查看目录中的文件
ls -F 查看目录中的文件
ls -l 显示文件和目录的详细资料
ls -a 显示隐藏文件
ls *[0-9]* 显示包含数字的文件名和目录名
tree 显示文件和目录由根目录开始的树形结构(1)
lstree 显示文件和目录由根目录开始的树形结构(2)
mkdir dir1 创建一个叫做 '</span>dir1<span class="token string">' 的目录'</span>
<span class="token function">mkdir</span> dir1 dir2 同时创建两个目录
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /tmp/dir1/dir2 创建一个目录树
<span class="token function">rm</span> <span class="token parameter variable">-f</span> file1 删除一个叫做 <span class="token string">'file1'</span> 的文件<span class="token string">'
rmdir dir1 删除一个叫做 '</span>dir1<span class="token string">' 的目录'</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> dir1 删除一个叫做 <span class="token string">'dir1'</span> 的目录并同时删除其内容
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> dir1 dir2 同时删除两个目录及它们的内容
<span class="token function">mv</span> dir1 new_dir 重命名/移动 一个目录
<span class="token function">cp</span> file1 file2 复制一个文件
<span class="token function">cp</span> dir/* <span class="token builtin class-name">.</span> 复制一个目录下的所有文件到当前工作目录
<span class="token function">cp</span> <span class="token parameter variable">-a</span> /tmp/dir1 <span class="token builtin class-name">.</span> 复制一个目录到当前工作目录
<span class="token function">cp</span> <span class="token parameter variable">-a</span> dir1 dir2 复制一个目录
<span class="token function">ln</span> <span class="token parameter variable">-s</span> file1 lnk1 创建一个指向文件或目录的软链接
<span class="token function">ln</span> file1 lnk1 创建一个指向文件或目录的物理链接
<span class="token function">touch</span> <span class="token parameter variable">-t</span> 0712250000 file1 修改一个文件或目录的时间戳 - <span class="token punctuation">(</span>YYMMDDhhmm<span class="token punctuation">)</span>
<span class="token function">file</span> file1 输出file1文件MIME类型为文本
<span class="token function">iconv</span> <span class="token parameter variable">-l</span> 列出已知的编码
<span class="token function">iconv</span> <span class="token parameter variable">-f</span> fromEncoding <span class="token parameter variable">-t</span> toEncoding inputFile <span class="token operator">></span> outputFile 从inputFile创建一个新的文件，并假设这个文件是以 fromEncoding形式编码，再将这个文件转换为以toEncoding形式编码的文件输出给outputFile
<span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-maxdepth</span> <span class="token number">1</span> <span class="token parameter variable">-name</span> *.jpg <span class="token parameter variable">-print</span> <span class="token parameter variable">-exec</span> convert <span class="token string">"&#123;&#125;"</span> <span class="token parameter variable">-resize</span> 80x60 <span class="token string">"thumbs/&#123;&#125;"</span> <span class="token punctuation">\</span><span class="token punctuation">;</span> 将当前目录下后缀为.jpg的文件批量裁剪为80x60的尺寸，并将其发送到thumbs目录下<span class="token punctuation">(</span>requires convert from Imagemagick<span class="token punctuation">)</span>
``<span class="token variable"><span class="token variable">`</span>   

<span class="token comment">## 文件搜索</span>

<span class="token variable">`</span></span>`` <span class="token function">bash</span>
<span class="token function">find</span> / <span class="token parameter variable">-name</span> file1 从 <span class="token string">'/'</span> 开始进入根文件系统搜索文件和目录
<span class="token function">find</span> / <span class="token parameter variable">-user</span> user1 搜索属于用户 <span class="token string">'user1'</span> 的文件和目录
<span class="token function">find</span> /home/user1 <span class="token parameter variable">-name</span> <span class="token punctuation">\</span>*.bin 在目录 <span class="token string">'/ home/user1'</span> 中搜索带有<span class="token string">'.bin'</span> 结尾的文件
<span class="token function">find</span> /usr/bin <span class="token parameter variable">-type</span> f <span class="token parameter variable">-atime</span> +100 搜索在过去100天内未被使用过的执行文件
<span class="token function">find</span> /usr/bin <span class="token parameter variable">-type</span> f <span class="token parameter variable">-mtime</span> <span class="token parameter variable">-10</span> 搜索在10天内被创建或者修改过的文件
<span class="token function">find</span> / <span class="token parameter variable">-name</span> <span class="token punctuation">\</span>*.rpm <span class="token parameter variable">-exec</span> <span class="token function">chmod</span> <span class="token number">755</span> <span class="token string">'&#123;&#125;'</span> <span class="token punctuation">\</span><span class="token punctuation">;</span> 搜索以 <span class="token string">'.rpm'</span> 结尾的文件并定义其权限
<span class="token function">find</span> / <span class="token parameter variable">-xdev</span> <span class="token parameter variable">-name</span> <span class="token punctuation">\</span>*.rpm 搜索以 <span class="token string">'.rpm'</span> 结尾的文件，忽略光驱、捷盘等可移动设备
<span class="token function">locate</span> <span class="token punctuation">\</span>*.ps 寻找以 <span class="token string">'.ps'</span> 结尾的文件 - 先运行 <span class="token string">'updatedb'</span> 命令
<span class="token function">whereis</span> <span class="token function">halt</span> 显示一个二进制文件、源码或man的位置
<span class="token function">which</span> <span class="token function">halt</span> 显示一个二进制文件或可执行文件的完整路径<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="挂载一个文件系统"><a href="#挂载一个文件系统" class="headerlink" title="挂载一个文件系统"></a>挂载一个文件系统</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mount</span> /dev/hda2 /mnt/hda2 挂载一个叫做hda2的盘 - 确定目录 <span class="token string">'/ mnt/hda2'</span> 已经存在
<span class="token function">umount</span> /dev/hda2 卸载一个叫做hda2的盘 - 先从挂载点 <span class="token string">'/ mnt/hda2'</span> 退出
<span class="token function">fuser</span> <span class="token parameter variable">-km</span> /mnt/hda2 当设备繁忙时强制卸载
<span class="token function">umount</span> <span class="token parameter variable">-n</span> /mnt/hda2 运行卸载操作而不写入 /etc/mtab 文件- 当文件为只读或当磁盘写满时非常有用
<span class="token function">mount</span> /dev/fd0 /mnt/floppy 挂载一个软盘
<span class="token function">mount</span> /dev/cdrom /mnt/cdrom 挂载一个cdrom或dvdrom
<span class="token function">mount</span> /dev/hdc /mnt/cdrecorder 挂载一个cdrw或dvdrom
<span class="token function">mount</span> /dev/hdb /mnt/cdrecorder 挂载一个cdrw或dvdrom
<span class="token function">mount</span> <span class="token parameter variable">-o</span> loop file.iso /mnt/cdrom 挂载一个文件或ISO镜像文件
<span class="token function">mount</span> <span class="token parameter variable">-t</span> vfat /dev/hda5 /mnt/hda5 挂载一个Windows FAT32文件系统
<span class="token function">mount</span> /dev/sda1 /mnt/usbdisk 挂载一个usb 捷盘或闪存设备
<span class="token function">mount</span> <span class="token parameter variable">-t</span> smbfs <span class="token parameter variable">-o</span> <span class="token assign-left variable">username</span><span class="token operator">=</span>user,password<span class="token operator">=</span>pass //WinClient/share /mnt/share 挂载一个windows网络共享<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="磁盘空间"><a href="#磁盘空间" class="headerlink" title="磁盘空间"></a>磁盘空间</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">df</span> <span class="token parameter variable">-h</span> 显示已经挂载的分区列表
<span class="token function">ls</span> <span class="token parameter variable">-lSr</span> <span class="token operator">|</span><span class="token function">more</span> 以尺寸大小排列文件和目录
<span class="token function">du</span> <span class="token parameter variable">-sh</span> dir1 估算目录 <span class="token string">'dir1'</span> 已经使用的磁盘空间<span class="token string">'
du -sk * | sort -rn 以容量大小为依据依次显示文件和目录的大小
rpm -q -a --qf '</span>%10<span class="token punctuation">&#123;</span>SIZE<span class="token punctuation">&#125;</span>t%<span class="token punctuation">&#123;</span>NAME<span class="token punctuation">&#125;</span>n<span class="token string">' | sort -k1,1n 以大小为依据依次显示已安装的rpm包所使用的空间 (fedora, redhat类系统)
dpkg-query -W -f='</span><span class="token variable">$&#123;Installed-Size;10&#125;</span>t<span class="token variable">$&#123;Package&#125;</span>n' <span class="token operator">|</span> <span class="token function">sort</span> -k1,1n 以大小为依据显示已安装的deb包所使用的空间 <span class="token punctuation">(</span>ubuntu, debian类系统<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="用户和群组"><a href="#用户和群组" class="headerlink" title="用户和群组"></a>用户和群组</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">groupadd</span> group_name 创建一个新用户组
<span class="token function">groupdel</span> group_name 删除一个用户组
<span class="token function">groupmod</span> <span class="token parameter variable">-n</span> new_group_name old_group_name 重命名一个用户组
<span class="token function">useradd</span> <span class="token parameter variable">-c</span> <span class="token string">"Name Surname "</span> <span class="token parameter variable">-g</span> admin <span class="token parameter variable">-d</span> /home/user1 <span class="token parameter variable">-s</span> /bin/bash user1 创建一个属于 <span class="token string">"admin"</span> 用户组的用户
<span class="token function">useradd</span> user1 创建一个新用户
<span class="token function">userdel</span> <span class="token parameter variable">-r</span> user1 删除一个用户 <span class="token punctuation">(</span> <span class="token string">'-r'</span> 排除主目录<span class="token punctuation">)</span>
<span class="token function">usermod</span> <span class="token parameter variable">-c</span> <span class="token string">"User FTP"</span> <span class="token parameter variable">-g</span> system <span class="token parameter variable">-d</span> /ftp/user1 <span class="token parameter variable">-s</span> /bin/nologin user1 修改用户属性
<span class="token function">passwd</span> 修改口令
<span class="token function">passwd</span> user1 修改一个用户的口令 <span class="token punctuation">(</span>只允许root执行<span class="token punctuation">)</span>
chage <span class="token parameter variable">-E</span> <span class="token number">2005</span>-12-31 user1 设置用户口令的失效期限
pwck 检查 <span class="token string">'/etc/passwd'</span> 的文件格式和语法修正以及存在的用户
grpck 检查 <span class="token string">'/etc/passwd'</span> 的文件格式和语法修正以及存在的群组
newgrp group_name 登陆进一个新的群组以改变新创建文件的预设群组
<span class="token function">who</span> 查看当前线上用户情况
<span class="token function">whoami</span> 查看当前用户<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="文件的权限"><a href="#文件的权限" class="headerlink" title="文件的权限"></a>文件的权限</h3><p>使用 “+” 设置权限，使用 “-“ 用于取消</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ls</span> <span class="token parameter variable">-lh</span> 显示权限
<span class="token function">ls</span> /tmp <span class="token operator">|</span> <span class="token function">pr</span> <span class="token parameter variable">-T5</span> -W<span class="token environment constant">$COLUMNS</span> 将终端划分成5栏显示
<span class="token function">chmod</span> ugo+rwx directory1 设置目录的所有人<span class="token punctuation">(</span>u<span class="token punctuation">)</span>、群组<span class="token punctuation">(</span>g<span class="token punctuation">)</span>以及其他人<span class="token punctuation">(</span>o<span class="token punctuation">)</span>以读（r ）、写<span class="token punctuation">(</span>w<span class="token punctuation">)</span>和执行<span class="token punctuation">(</span>x<span class="token punctuation">)</span>的权限
<span class="token function">chmod</span> go-rwx directory1 删除群组<span class="token punctuation">(</span>g<span class="token punctuation">)</span>与其他人<span class="token punctuation">(</span>o<span class="token punctuation">)</span>对目录的读写执行权限
<span class="token function">chown</span> user1 file1 改变一个文件的所有人属性
<span class="token function">chown</span> <span class="token parameter variable">-R</span> user1 directory1 改变一个目录的所有人属性并同时改变改目录下所有文件的属性
<span class="token function">chgrp</span> group1 file1 改变文件的群组
<span class="token function">chown</span> user1:group1 file1 改变一个文件的所有人和群组属性
<span class="token function">find</span> / <span class="token parameter variable">-perm</span> -u+s 罗列一个系统中所有使用了SUID控制的文件
<span class="token function">chmod</span> u+s /bin/file1 设置一个二进制文件的 SUID 位 - 运行该文件的用户也被赋予和所有者同样的权限
<span class="token function">chmod</span> u-s /bin/file1 禁用一个二进制文件的 SUID位
<span class="token function">chmod</span> g+s /home/public 设置一个目录的SGID 位 - 类似SUID ，不过这是针对目录的
<span class="token function">chmod</span> g-s /home/public 禁用一个目录的 SGID 位
<span class="token function">chmod</span> o+t /home/public 设置一个文件的 STIKY 位 - 只允许合法所有人删除文件
<span class="token function">chmod</span> o-t /home/public 禁用一个目录的 STIKY 位<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="文件的特殊属性"><a href="#文件的特殊属性" class="headerlink" title="文件的特殊属性"></a>文件的特殊属性</h3><p>使用 “+” 设置权限，使用 “-“ 用于取消</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">chattr +a file1 只允许以追加方式读写文件
chattr +c file1 允许这个文件能被内核自动压缩/解压
chattr +d file1 在进行文件系统备份时，dump程序将忽略这个文件
chattr +i file1 设置成不可变的文件，不能被删除、修改、重命名或者链接
chattr +s file1 允许一个文件被安全地删除
chattr +S file1 一旦应用程序对这个文件执行了写操作，使系统立刻把修改的结果写到磁盘
chattr +u file1 若文件被删除，系统会允许你在以后恢复这个被删除的文件
lsattr 显示特殊的属性<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="打包和压缩文件"><a href="#打包和压缩文件" class="headerlink" title="打包和压缩文件"></a>打包和压缩文件</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">bunzip2 file1.bz2 解压一个叫做 <span class="token string">'file1.bz2'</span>的文件
<span class="token function">bzip2</span> file1 压缩一个叫做 <span class="token string">'file1'</span> 的文件
gunzip file1.gz 解压一个叫做 <span class="token string">'file1.gz'</span>的文件
<span class="token function">gzip</span> file1 压缩一个叫做 <span class="token string">'file1'</span>的文件
<span class="token function">gzip</span> <span class="token parameter variable">-9</span> file1 最大程度压缩
<span class="token function">rar</span> a file1.rar test_file 创建一个叫做 <span class="token string">'file1.rar'</span> 的包
<span class="token function">rar</span> a file1.rar file1 file2 dir1 同时压缩 <span class="token string">'file1'</span>, <span class="token string">'file2'</span> 以及目录 <span class="token string">'dir1'</span>
<span class="token function">rar</span> x file1.rar 解压rar包
<span class="token function">unrar</span> x file1.rar 解压rar包
<span class="token function">tar</span> <span class="token parameter variable">-cvf</span> archive.tar file1 创建一个非压缩的 tarball
<span class="token function">tar</span> <span class="token parameter variable">-cvf</span> archive.tar file1 file2 dir1 创建一个包含了 <span class="token string">'file1'</span>, <span class="token string">'file2'</span> 以及 <span class="token string">'dir1'</span>的档案文件
<span class="token function">tar</span> <span class="token parameter variable">-tf</span> archive.tar 显示一个包中的内容
<span class="token function">tar</span> <span class="token parameter variable">-xvf</span> archive.tar 释放一个包
<span class="token function">tar</span> <span class="token parameter variable">-xvf</span> archive.tar <span class="token parameter variable">-C</span> /tmp 将压缩包释放到 /tmp目录下
<span class="token function">tar</span> <span class="token parameter variable">-cvfj</span> archive.tar.bz2 dir1 创建一个bzip2格式的压缩包
<span class="token function">tar</span> <span class="token parameter variable">-xvfj</span> archive.tar.bz2 解压一个bzip2格式的压缩包
<span class="token function">tar</span> <span class="token parameter variable">-cvfz</span> archive.tar.gz dir1 创建一个gzip格式的压缩包
<span class="token function">tar</span> <span class="token parameter variable">-xvfz</span> archive.tar.gz 解压一个gzip格式的压缩包
<span class="token function">zip</span> file1.zip file1 创建一个zip格式的压缩包
<span class="token function">zip</span> <span class="token parameter variable">-r</span> file1.zip file1 file2 dir1 将几个文件和目录同时压缩成一个zip格式的压缩包
<span class="token function">unzip</span> file1.zip 解压一个zip格式压缩包<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="RPM-包"><a href="#RPM-包" class="headerlink" title="RPM 包"></a>RPM 包</h3><p>（Fedora, Redhat及类似系统） </p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> package.rpm 安装一个rpm包
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> <span class="token parameter variable">--nodeeps</span> package.rpm 安装一个rpm包而忽略依赖关系警告
<span class="token function">rpm</span> <span class="token parameter variable">-U</span> package.rpm 更新一个rpm包但不改变其配置文件
<span class="token function">rpm</span> <span class="token parameter variable">-F</span> package.rpm 更新一个确定已经安装的rpm包
<span class="token function">rpm</span> <span class="token parameter variable">-e</span> package_name.rpm 删除一个rpm包
<span class="token function">rpm</span> <span class="token parameter variable">-qa</span> 显示系统中所有已经安装的rpm包
<span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span> httpd 显示所有名称中包含 <span class="token string">"httpd"</span> 字样的rpm包
<span class="token function">rpm</span> <span class="token parameter variable">-qi</span> package_name 获取一个已安装包的特殊信息
<span class="token function">rpm</span> <span class="token parameter variable">-qg</span> <span class="token string">"System Environment/Daemons"</span> 显示一个组件的rpm包
<span class="token function">rpm</span> <span class="token parameter variable">-ql</span> package_name 显示一个已经安装的rpm包提供的文件列表
<span class="token function">rpm</span> <span class="token parameter variable">-qc</span> package_name 显示一个已经安装的rpm包提供的配置文件列表
<span class="token function">rpm</span> <span class="token parameter variable">-q</span> package_name <span class="token parameter variable">--whatrequires</span> 显示与一个rpm包存在依赖关系的列表
<span class="token function">rpm</span> <span class="token parameter variable">-q</span> package_name <span class="token parameter variable">--whatprovides</span> 显示一个rpm包所占的体积
<span class="token function">rpm</span> <span class="token parameter variable">-q</span> package_name <span class="token parameter variable">--scripts</span> 显示在安装/删除期间所执行的脚本l
<span class="token function">rpm</span> <span class="token parameter variable">-q</span> package_name <span class="token parameter variable">--changelog</span> 显示一个rpm包的修改历史
<span class="token function">rpm</span> <span class="token parameter variable">-qf</span> /etc/httpd/conf/httpd.conf 确认所给的文件由哪个rpm包所提供
<span class="token function">rpm</span> <span class="token parameter variable">-qp</span> package.rpm <span class="token parameter variable">-l</span> 显示由一个尚未安装的rpm包提供的文件列表
<span class="token function">rpm</span> <span class="token parameter variable">--import</span> /media/cdrom/RPM-GPG-KEY 导入公钥数字证书
<span class="token function">rpm</span> <span class="token parameter variable">--checksig</span> package.rpm 确认一个rpm包的完整性
<span class="token function">rpm</span> <span class="token parameter variable">-qa</span> gpg-pubkey 确认已安装的所有rpm包的完整性
<span class="token function">rpm</span> <span class="token parameter variable">-V</span> package_name 检查文件尺寸、 许可、类型、所有者、群组、MD5检查以及最后修改时间
<span class="token function">rpm</span> <span class="token parameter variable">-Va</span> 检查系统中所有已安装的rpm包- 小心使用
<span class="token function">rpm</span> <span class="token parameter variable">-Vp</span> package.rpm 确认一个rpm包还未安装
rpm2cpio package.rpm <span class="token operator">|</span> cpio <span class="token parameter variable">--extract</span> --make-directories *bin* 从一个rpm包运行可执行文件
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> /usr/src/redhat/RPMS/<span class="token variable"><span class="token variable">`</span>arch<span class="token variable">`</span></span>/package.rpm 从一个rpm源码安装一个构建好的包
rpmbuild <span class="token parameter variable">--rebuild</span> package_name.src.rpm 从一个rpm源码构建一个 <span class="token function">rpm</span> 包<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="YUM-软件包升级器"><a href="#YUM-软件包升级器" class="headerlink" title="YUM 软件包升级器"></a>YUM 软件包升级器</h3><p>（Fedora, RedHat及类似系统）</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> package_name 下载并安装一个rpm包
yum localinstall package_name.rpm 将安装一个rpm包，使用你自己的软件仓库为你解决所有依赖关系
yum update package_name.rpm 更新当前系统中所有安装的rpm包
yum update package_name 更新一个rpm包
yum remove package_name 删除一个rpm包
yum list 列出当前系统中安装的所有包
yum search package_name 在rpm仓库中搜寻软件包
yum clean packages 清理rpm缓存删除下载的包
yum clean headers 删除所有头文件
yum clean all 删除所有缓存的包和头文件<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="DEB-包"><a href="#DEB-包" class="headerlink" title="DEB 包"></a>DEB 包</h3><p>(Debian, Ubuntu 以及类似系统)</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">dpkg <span class="token parameter variable">-i</span> package.deb 安装/更新一个 deb 包
dpkg <span class="token parameter variable">-r</span> package_name 从系统删除一个 deb 包
dpkg <span class="token parameter variable">-l</span> 显示系统中所有已经安装的 deb 包
dpkg <span class="token parameter variable">-l</span> <span class="token operator">|</span> <span class="token function">grep</span> httpd 显示所有名称中包含 <span class="token string">"httpd"</span> 字样的deb包
dpkg <span class="token parameter variable">-s</span> package_name 获得已经安装在系统中一个特殊包的信息
dpkg <span class="token parameter variable">-L</span> package_name 显示系统中已经安装的一个deb包所提供的文件列表
dpkg <span class="token parameter variable">--contents</span> package.deb 显示尚未安装的一个包所提供的文件列表
dpkg <span class="token parameter variable">-S</span> /bin/ping 确认所给的文件由哪个deb包提供<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="APT-软件工具"><a href="#APT-软件工具" class="headerlink" title="APT 软件工具"></a>APT 软件工具</h3><p>(Debian, Ubuntu 以及类似系统) </p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">apt-get</span> <span class="token function">install</span> package_name 安装/更新一个 deb 包
apt-cdrom <span class="token function">install</span> package_name 从光盘安装/更新一个 deb 包
<span class="token function">apt-get</span> update 升级列表中的软件包
<span class="token function">apt-get</span> upgrade 升级所有已安装的软件
<span class="token function">apt-get</span> remove package_name 从系统删除一个deb包
<span class="token function">apt-get</span> check 确认依赖的软件仓库正确
<span class="token function">apt-get</span> clean 从下载的软件包中清理缓存
<span class="token function">apt-cache</span> search searched-package 返回包含所要搜索字符串的软件包名称<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="查看文件内容"><a href="#查看文件内容" class="headerlink" title="查看文件内容"></a>查看文件内容</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span> file1 从第一个字节开始正向查看文件的内容
<span class="token function">tac</span> file1 从最后一行开始反向查看一个文件的内容
<span class="token function">more</span> file1 查看一个长文件的内容
<span class="token function">less</span> file1 类似于 <span class="token string">'more'</span> 命令，但是它允许在文件中和正向操作一样的反向操作
<span class="token function">head</span> <span class="token parameter variable">-2</span> file1 查看一个文件的前两行
<span class="token function">tail</span> <span class="token parameter variable">-2</span> file1 查看一个文件的最后两行
<span class="token function">tail</span> <span class="token parameter variable">-f</span> /var/log/messages 实时查看被添加到一个文件中的内容 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="文本处理"><a href="#文本处理" class="headerlink" title="文本处理"></a>文本处理</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span> file1 file2 <span class="token punctuation">..</span>. <span class="token operator">|</span> <span class="token builtin class-name">command</span> <span class="token operator">&lt;></span> file1_in.txt_or_file1_out.txt 文本操作的一般语法PIPE, STDIN and STDOUT
<span class="token function">cat</span> file1 <span class="token operator">|</span> command<span class="token punctuation">(</span> sed, grep, awk, grep, etc<span class="token punctuation">..</span>.<span class="token punctuation">)</span> <span class="token operator">></span> result.txt 合并一个文件的详细说明文本，并将简介写入一个新文件中
<span class="token function">cat</span> file1 <span class="token operator">|</span> command<span class="token punctuation">(</span> sed, grep, awk, grep, etc<span class="token punctuation">..</span>.<span class="token punctuation">)</span> <span class="token operator">>></span> result.txt 合并一个文件的详细说明文本，并将简介写入一个已有的文件中
<span class="token function">grep</span> Aug /var/log/messages 在文件 <span class="token string">'/var/log/messages'</span>中查找关键词<span class="token string">"Aug"</span>
<span class="token function">grep</span> ^Aug /var/log/messages 在文件 <span class="token string">'/var/log/messages'</span>中查找以<span class="token string">"Aug"</span>开始的词汇
<span class="token function">grep</span> <span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span> /var/log/messages 选择 <span class="token string">'/var/log/messages'</span> 文件中所有包含数字的行
<span class="token function">grep</span> Aug <span class="token parameter variable">-R</span> /var/log/* 在目录 <span class="token string">'/var/log'</span> 及随后的目录中搜索字符串<span class="token string">"Aug"</span>
<span class="token function">sed</span> <span class="token string">'s/stringa1/stringa2/g'</span> example.txt 将example.txt文件中的 <span class="token string">"string1"</span> 替换成 <span class="token string">"string2"</span>
<span class="token function">sed</span> <span class="token string">'/^$/d'</span> example.txt 从example.txt文件中删除所有空白行
<span class="token function">sed</span> <span class="token string">'/ *#/d; /^$/d'</span> example.txt 从example.txt文件中删除所有注释和空白行
<span class="token builtin class-name">echo</span> <span class="token string">'esempio'</span> <span class="token operator">|</span> <span class="token function">tr</span> <span class="token string">'[:lower:]'</span> <span class="token string">'[:upper:]'</span> 合并上下单元格内容
<span class="token function">sed</span> <span class="token parameter variable">-e</span> <span class="token string">'1d'</span> result.txt 从文件example.txt 中排除第一行
<span class="token function">sed</span> <span class="token parameter variable">-n</span> <span class="token string">'/stringa1/p'</span> 查看只包含词汇 <span class="token string">"string1"</span>的行
<span class="token function">sed</span> <span class="token parameter variable">-e</span> <span class="token string">'s/ *$//'</span> example.txt 删除每一行最后的空白字符
<span class="token function">sed</span> <span class="token parameter variable">-e</span> <span class="token string">'s/stringa1//g'</span> example.txt 从文档中只删除词汇 <span class="token string">"string1"</span> 并保留剩余全部
<span class="token function">sed</span> <span class="token parameter variable">-n</span> <span class="token string">'1,5p;5q'</span> example.txt 查看从第一行到第5行内容
<span class="token function">sed</span> <span class="token parameter variable">-n</span> <span class="token string">'5p;5q'</span> example.txt 查看第5行
<span class="token function">sed</span> <span class="token parameter variable">-e</span> <span class="token string">'s/00*/0/g'</span> example.txt 用单个零替换多个零
<span class="token function">cat</span> <span class="token parameter variable">-n</span> file1 标示文件的行数
<span class="token function">cat</span> example.txt <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'NR%2==1'</span> 删除example.txt文件中的所有偶数行
<span class="token builtin class-name">echo</span> a b c <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'&#123;print $1&#125;'</span> 查看一行第一栏
<span class="token builtin class-name">echo</span> a b c <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'&#123;print $1,$3&#125;'</span> 查看一行的第一和第三栏
<span class="token function">paste</span> file1 file2 合并两个文件或两栏的内容
<span class="token function">paste</span> <span class="token parameter variable">-d</span> <span class="token string">'+'</span> file1 file2 合并两个文件或两栏的内容，中间用<span class="token string">"+"</span>区分
<span class="token function">sort</span> file1 file2 排序两个文件的内容
<span class="token function">sort</span> file1 file2 <span class="token operator">|</span> <span class="token function">uniq</span> 取出两个文件的并集<span class="token punctuation">(</span>重复的行只保留一份<span class="token punctuation">)</span>
<span class="token function">sort</span> file1 file2 <span class="token operator">|</span> <span class="token function">uniq</span> <span class="token parameter variable">-u</span> 删除交集，留下其他的行
<span class="token function">sort</span> file1 file2 <span class="token operator">|</span> <span class="token function">uniq</span> <span class="token parameter variable">-d</span> 取出两个文件的交集<span class="token punctuation">(</span>只留下同时存在于两个文件中的文件<span class="token punctuation">)</span>
<span class="token function">comm</span> <span class="token parameter variable">-1</span> file1 file2 比较两个文件的内容只删除 <span class="token string">'file1'</span> 所包含的内容
<span class="token function">comm</span> <span class="token parameter variable">-2</span> file1 file2 比较两个文件的内容只删除 <span class="token string">'file2'</span> 所包含的内容
<span class="token function">comm</span> <span class="token parameter variable">-3</span> file1 file2 比较两个文件的内容只删除两个文件共有的部分<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="字符设置和文件格式转换"><a href="#字符设置和文件格式转换" class="headerlink" title="字符设置和文件格式转换"></a>字符设置和文件格式转换</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">dos2unix filedos.txt fileunix.txt 将一个文本文件的格式从MSDOS转换成UNIX
unix2dos fileunix.txt filedos.txt 将一个文本文件的格式从UNIX转换成MSDOS
recode <span class="token punctuation">..</span>HTML <span class="token operator">&lt;</span> page.txt <span class="token operator">></span> page.html 将一个文本文件转换成html
recode <span class="token parameter variable">-l</span> <span class="token operator">|</span> <span class="token function">more</span> 显示所有允许的转换格式<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="文件系统分析"><a href="#文件系统分析" class="headerlink" title="文件系统分析"></a>文件系统分析</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">badblocks <span class="token parameter variable">-v</span> /dev/hda1 检查磁盘hda1上的坏磁块
<span class="token function">fsck</span> /dev/hda1 修复/检查hda1磁盘上linux文件系统的完整性
fsck.ext2 /dev/hda1 修复/检查hda1磁盘上ext2文件系统的完整性
e2fsck /dev/hda1 修复/检查hda1磁盘上ext2文件系统的完整性
e2fsck <span class="token parameter variable">-j</span> /dev/hda1 修复/检查hda1磁盘上ext3文件系统的完整性
fsck.ext3 /dev/hda1 修复/检查hda1磁盘上ext3文件系统的完整性
fsck.vfat /dev/hda1 修复/检查hda1磁盘上fat文件系统的完整性
fsck.msdos /dev/hda1 修复/检查hda1磁盘上dos文件系统的完整性
dosfsck /dev/hda1 修复/检查hda1磁盘上dos文件系统的完整性<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="初始化一个文件系统"><a href="#初始化一个文件系统" class="headerlink" title="初始化一个文件系统"></a>初始化一个文件系统</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkfs</span> /dev/hda1 在hda1分区创建一个文件系统
<span class="token function">mke2fs</span> /dev/hda1 在hda1分区创建一个linux ext2的文件系统
<span class="token function">mke2fs</span> <span class="token parameter variable">-j</span> /dev/hda1 在hda1分区创建一个linux ext3<span class="token punctuation">(</span>日志型<span class="token punctuation">)</span>的文件系统
<span class="token function">mkfs</span> <span class="token parameter variable">-t</span> vfat <span class="token number">32</span> <span class="token parameter variable">-F</span> /dev/hda1 创建一个 FAT32 文件系统
<span class="token function">fdformat</span> <span class="token parameter variable">-n</span> /dev/fd0 格式化一个软盘
<span class="token function">mkswap</span> /dev/hda3 创建一个swap文件系统<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="SWAP文件系统"><a href="#SWAP文件系统" class="headerlink" title="SWAP文件系统"></a>SWAP文件系统</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkswap</span> /dev/hda3 创建一个swap文件系统
<span class="token function">swapon</span> /dev/hda3 启用一个新的swap文件系统
<span class="token function">swapon</span> /dev/hda2 /dev/hdb3 启用两个swap分区<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h2 id="备份"><a href="#备份" class="headerlink" title="备份"></a>备份</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">dump <span class="token parameter variable">-0aj</span> <span class="token parameter variable">-f</span> /tmp/home0.bak /home 制作一个 <span class="token string">'/home'</span> 目录的完整备份
dump <span class="token parameter variable">-1aj</span> <span class="token parameter variable">-f</span> /tmp/home0.bak /home 制作一个 <span class="token string">'/home'</span> 目录的交互式备份
restore <span class="token parameter variable">-if</span> /tmp/home0.bak 还原一个交互式备份
<span class="token function">rsync</span> <span class="token parameter variable">-rogpav</span> <span class="token parameter variable">--delete</span> /home /tmp 同步两边的目录
<span class="token function">rsync</span> <span class="token parameter variable">-rogpav</span> <span class="token parameter variable">-e</span> <span class="token function">ssh</span> <span class="token parameter variable">--delete</span> /home ip_address:/tmp 通过SSH通道rsync
<span class="token function">rsync</span> <span class="token parameter variable">-az</span> <span class="token parameter variable">-e</span> <span class="token function">ssh</span> <span class="token parameter variable">--delete</span> ip_addr:/home/public /home/local 通过ssh和压缩将一个远程目录同步到本地目录
<span class="token function">rsync</span> <span class="token parameter variable">-az</span> <span class="token parameter variable">-e</span> <span class="token function">ssh</span> <span class="token parameter variable">--delete</span> /home/local ip_addr:/home/public 通过ssh和压缩将本地目录同步到远程目录
<span class="token function">dd</span> <span class="token assign-left variable">bs</span><span class="token operator">=</span>1M <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/hda <span class="token operator">|</span> <span class="token function">gzip</span> <span class="token operator">|</span> <span class="token function">ssh</span> user@ip_addr <span class="token string">'dd of=hda.gz'</span> 通过ssh在远程主机上执行一次备份本地磁盘的操作
<span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/sda <span class="token assign-left variable">of</span><span class="token operator">=</span>/tmp/file1 备份磁盘内容到一个文件
<span class="token function">tar</span> <span class="token parameter variable">-Puf</span> backup.tar /home/user 执行一次对 <span class="token string">'/home/user'</span> 目录的交互式备份操作
<span class="token punctuation">(</span> <span class="token builtin class-name">cd</span> /tmp/local/ <span class="token operator">&amp;&amp;</span> <span class="token function">tar</span> c <span class="token builtin class-name">.</span> <span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token function">ssh</span> <span class="token parameter variable">-C</span> user@ip_addr <span class="token string">'cd /home/share/ &amp;&amp; tar x -p'</span> 通过ssh在远程目录中复制一个目录内容
<span class="token punctuation">(</span> <span class="token function">tar</span> c /home <span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token function">ssh</span> <span class="token parameter variable">-C</span> user@ip_addr <span class="token string">'cd /home/backup-home &amp;&amp; tar x -p'</span> 通过ssh在远程目录中复制一个本地目录
<span class="token function">tar</span> cf - <span class="token builtin class-name">.</span> <span class="token operator">|</span> <span class="token punctuation">(</span>cd /tmp/backup <span class="token punctuation">;</span> <span class="token function">tar</span> xf - <span class="token punctuation">)</span> 本地将一个目录复制到另一个地方，保留原有权限及链接
<span class="token function">find</span> /home/user1 <span class="token parameter variable">-name</span> <span class="token string">'*.txt'</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token function">cp</span> <span class="token parameter variable">-av</span> --target-directory<span class="token operator">=</span>/home/backup/ <span class="token parameter variable">--parents</span> 从一个目录查找并复制所有以 <span class="token string">'.txt'</span> 结尾的文件到另一个目录
<span class="token function">find</span> /var/log <span class="token parameter variable">-name</span> <span class="token string">'*.log'</span> <span class="token operator">|</span> <span class="token function">tar</span> cv --files-from<span class="token operator">=</span>- <span class="token operator">|</span> <span class="token function">bzip2</span> <span class="token operator">></span> log.tar.bz2 查找所有以 <span class="token string">'.log'</span> 结尾的文件并做成一个bzip包
<span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/hda <span class="token assign-left variable">of</span><span class="token operator">=</span>/dev/fd0 <span class="token assign-left variable">bs</span><span class="token operator">=</span><span class="token number">512</span> <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">1</span> 做一个将 MBR <span class="token punctuation">(</span>Master Boot Record<span class="token punctuation">)</span>内容复制到软盘的动作
<span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/fd0 <span class="token assign-left variable">of</span><span class="token operator">=</span>/dev/hda <span class="token assign-left variable">bs</span><span class="token operator">=</span><span class="token number">512</span> <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">1</span> 从已经保存到软盘的备份中恢复MBR内容
光盘
cdrecord <span class="token parameter variable">-v</span> <span class="token assign-left variable">gracetime</span><span class="token operator">=</span><span class="token number">2</span> <span class="token assign-left variable">dev</span><span class="token operator">=</span>/dev/cdrom <span class="token parameter variable">-eject</span> <span class="token assign-left variable">blank</span><span class="token operator">=</span>fast <span class="token parameter variable">-force</span> 清空一个可复写的光盘内容
<span class="token function">mkisofs</span> /dev/cdrom <span class="token operator">></span> cd.iso 在磁盘上创建一个光盘的iso镜像文件
<span class="token function">mkisofs</span> /dev/cdrom <span class="token operator">|</span> <span class="token function">gzip</span> <span class="token operator">></span> cd_iso.gz 在磁盘上创建一个压缩了的光盘iso镜像文件
<span class="token function">mkisofs</span> <span class="token parameter variable">-J</span> -allow-leading-dots <span class="token parameter variable">-R</span> <span class="token parameter variable">-V</span> <span class="token string">"Label CD"</span> -iso-level <span class="token number">4</span> <span class="token parameter variable">-o</span> ./cd.iso data_cd 创建一个目录的iso镜像文件
cdrecord <span class="token parameter variable">-v</span> <span class="token assign-left variable">dev</span><span class="token operator">=</span>/dev/cdrom cd.iso 刻录一个ISO镜像文件
<span class="token function">gzip</span> <span class="token parameter variable">-dc</span> cd_iso.gz <span class="token operator">|</span> cdrecord <span class="token assign-left variable">dev</span><span class="token operator">=</span>/dev/cdrom - 刻录一个压缩了的ISO镜像文件
<span class="token function">mount</span> <span class="token parameter variable">-o</span> loop cd.iso /mnt/iso 挂载一个ISO镜像文件
cd-paranoia <span class="token parameter variable">-B</span> 从一个CD光盘转录音轨到 wav 文件中
cd-paranoia -- <span class="token string">"-3"</span> 从一个CD光盘转录音轨到 wav 文件中（参数-3）
cdrecord <span class="token parameter variable">--scanbus</span> 扫描总线以识别scsi通道
<span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/hdc <span class="token operator">|</span> md5sum 校验一个设备的md5sum编码，例如一张 CD<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h2><p>（以太网和WIFI无线）</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ifconfig</span> eth0 显示一个以太网卡的配置
<span class="token function">ifup</span> eth0 启用一个 <span class="token string">'eth0'</span> 网络设备
<span class="token function">ifdown</span> eth0 禁用一个 <span class="token string">'eth0'</span> 网络设备
<span class="token function">ifconfig</span> eth0 <span class="token number">192.168</span>.1.1 netmask <span class="token number">255.255</span>.255.0 控制IP地址
<span class="token function">ifconfig</span> eth0 promisc 设置 <span class="token string">'eth0'</span> 成混杂模式以嗅探数据包 <span class="token punctuation">(</span>sniffing<span class="token punctuation">)</span>
dhclient eth0 以dhcp模式启用 <span class="token string">'eth0'</span>
（注：以下内容待翻译校正）
route <span class="token parameter variable">-n</span> 显示路由表
route <span class="token function">add</span> <span class="token parameter variable">-net</span> <span class="token number">0</span>/0 gw IP_Gateway 配置默认网关
route <span class="token function">add</span> <span class="token parameter variable">-net</span> <span class="token number">192.168</span>.0.0 netmask <span class="token number">255.255</span>.0.0 gw <span class="token number">192.168</span>.1.1 配置静态路由接入到<span class="token string">'192.168.0.0/16'</span>
route del <span class="token number">0</span>/0 gw IP_gateway 移除静态路由
<span class="token builtin class-name">echo</span> <span class="token string">"1"</span> <span class="token operator">></span> /proc/sys/net/ipv4/ip_forward 启动IP路由
<span class="token function">hostname</span> 显示系统的主机名（比如阿里云的当前服务器名）
<span class="token function">host</span> www.example.com  显示域名对应站点主机的IP地址，反之亦然
<span class="token function">nslookup</span> www.example.com 显示域名对应NS主机的IP地址，反之亦然
<span class="token function">ip</span> <span class="token function">link</span> show 显示链接在所有接口上的状态
mii-tool eth0 显示链接在 <span class="token string">'eth0'</span>上的状态
<span class="token function">ethtool</span> eth0 显示<span class="token string">'eth0'</span> 接口的网络关口统计
<span class="token function">netstat</span> <span class="token parameter variable">-tup</span> 显示所有活动网络链接及其控制
<span class="token function">netstat</span> <span class="token parameter variable">-tupl</span> 显示系统监听的所有网络服务及其控制
tcpdump tcp port <span class="token number">80</span> 显示所有HTTP流量
iwlist scan 显示无线网络
iwconfig eth1 显示无线网卡的配置
whois www.example.com 显示whois信息<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="SAMBA"><a href="#SAMBA" class="headerlink" title="SAMBA"></a>SAMBA</h3><p>Microsoft Windows networks</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nbtscan ip_addr NETBIOS名称解析
nmblookup <span class="token parameter variable">-A</span> ip_addr NETBIOS名称解析
smbclient <span class="token parameter variable">-L</span> ip_addr/hostname 显示Windows主机的远程共享
smbget <span class="token parameter variable">-Rr</span> smb://ip_addr/share 可以通过Windows的smb像wget一样下载文件
<span class="token function">mount</span> <span class="token parameter variable">-t</span> smbfs <span class="token parameter variable">-o</span> <span class="token assign-left variable">username</span><span class="token operator">=</span>user,password<span class="token operator">=</span>pass //WinClient/share /mnt/share 挂载一个Windows的网络共享<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
  </div>

  
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/VPS%E7%BB%B4%E6%8A%A4/" rel="tag">VPS维护</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/centos/" rel="tag">centos</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux-%E5%91%BD%E4%BB%A4/" rel="tag">linux 命令</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">云服务器</a></li></ul>
  

  
</article>


<div class="author-info u-clearfix">
	
	<img class="avatar" src="/img/avatar.png" alt="NOOLDEY">
	
	<div class="author-content">
		<div class="author-description">
			<p>本文作者：NOOLDEY</p>
			<p>做一个诗情画意的码农，皮皮猪，我们走！</p>
			<p>原文链接：
				<a href="http://zhuweisheng.com.cn/tech/linux-command-list/">http://zhuweisheng.com.cn/tech/linux-command-list/</a>
			</p>
			<b>本站文章如无特殊声明均为原创，创作不易，转载请注明来源，谢谢！</b>
		</div>
	</div>
</div>


<!-- 目录 -->


<!-- 评论留言 -->


<div id="comments">
  
  <div id="issues"></div>
  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
  <script>
    var gitalk = new Gitalk({
      clientID: '2175e96bf1778b0e1969',
      clientSecret: 'b696be3126f6a6364c6fb6adffd398c075e14b07',
      repo: 'nooldey.github.io',
      owner: 'nooldey',
      admin: ['nooldey'],
      id: '/tech/linux-command-list/', // Ensure uniqueness and length less than 50
      distractionFreeMode: false // Facebook-like distraction free mode
    })
    gitalk.render('issues')
  </script>
  
  <!-- 禁用提示 -->
  <noscript> 哎呀，评论功能被禁用了，快启用JavaScript恢复吧！ </noscript>
</div>

</section>
    </div>
    
	<footer class="site-footer">
		<div class="footer-info">
			<p>
				<a href="http://zhuweisheng.com.cn" class="logo">
					碎碎念ZWS
				</a>
				<span>&copy;2013 - 2024</span>
			</p>
			<p>
				<svg class="icon icon-heart">
					<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-heart"></use>
				</svg>
				<a href="https://fatesinger.com" target="_blank" title="Hexo 主题 kana">Theme:Kana</a>.
			</p>
			<p>
				<svg class="icon icon-deploy">
					<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-deploy"></use>
				</svg>
				&nbsp;
				2024-01-26 12:17:15
			</p>
		</div>
		
		<div>
			友情链接：
			
		</div>
		<section class="love-time">
	<p>猪头和丫头牵手走过了：</p>
	<p class="love-time-count"></p>
	<p class="love-time-asume"></p>
</section>

<script src="/js/timer.js"></script>

	</footer>
	
<script src="/js/app.js"></script>

  </div>
  </body>

  </html>