<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  
  

  <title>
    给你的wordpress添加幻灯片吧！ | 碎碎念ZWS
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="keywords" content=",给你的wordpress添加幻灯片吧！" />
  <meta name="description" content="做一个爱写笔记的攻城狮，记录生活，记录你" />
  <meta name="version" content="2024-03-16 12:12:09" />
  <link rel="icon" href="/img/favicon.ico" />
  
<link rel="stylesheet" href="/css/main.css">

  
  
<link rel="stylesheet" href="/css/highlight.css">

  
  
  <script type="text/javascript"> (function(c,l,a,r,i,t,y){ c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)}; t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i; y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y); })(window, document, "clarity", "script", "jwgk6nzppu"); </script>
  
  
<meta name="generator" content="Hexo 6.3.0"></head>

</html>
<body class="is-animated" >
  <div style="display:none">
    <svg style="position: absolute; width: 0; height: 0;" width="0" height="0" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <defs>
        <symbol id="icon-heart" viewBox="0 0 1024 1024">
          <title>heart</title>
          <path class="path1" d="M755.188 64c-107.63 0-200.258 87.554-243.164 179-42.938-91.444-135.578-179-243.216-179-148.382 0-268.808 120.44-268.808 268.832 0 301.846 304.5 380.994 512.022 679.418 196.154-296.576 511.978-387.206 511.978-679.418 0-148.392-120.43-268.832-268.812-268.832z"></path>
        </symbol>
        <symbol id="icon-twitter" viewBox="0 0 1024 1024">
          <title>twitter</title>
          <path class="path1" d="M1024 226.4c-37.6 16.8-78.2 28-120.6 33 43.4-26 76.6-67.2 92.4-116.2-40.6 24-85.6 41.6-133.4 51-38.4-40.8-93-66.2-153.4-66.2-116 0-210 94-210 210 0 16.4 1.8 32.4 5.4 47.8-174.6-8.8-329.4-92.4-433-219.6-18 31-28.4 67.2-28.4 105.6 0 72.8 37 137.2 93.4 174.8-34.4-1-66.8-10.6-95.2-26.2 0 0.8 0 1.8 0 2.6 0 101.8 72.4 186.8 168.6 206-17.6 4.8-36.2 7.4-55.4 7.4-13.6 0-26.6-1.4-39.6-3.8 26.8 83.4 104.4 144.2 196.2 146-72 56.4-162.4 90-261 90-17 0-33.6-1-50.2-3 93.2 59.8 203.6 94.4 322.2 94.4 386.4 0 597.8-320.2 597.8-597.8 0-9.2-0.2-18.2-0.6-27.2 41-29.4 76.6-66.4 104.8-108.6z"></path>
        </symbol>
        <symbol id="icon-sina-weibo" viewBox="0 0 1024 1024">
          <title>sina-weibo</title>
          <path class="path1" d="M430.2 898c-169.6 16.8-316-60-327-171.2-11-111.4 117.6-215 287-231.8 169.6-16.8 316 60 326.8 171.2 11.2 111.4-117.4 215.2-286.8 231.8zM769.2 528.6c-14.4-4.4-24.4-7.2-16.8-26.2 16.4-41.2 18-76.6 0.2-102-33.2-47.4-124.2-45-228.4-1.2 0 0-32.8 14.2-24.4-11.6 16-51.6 13.6-94.6-11.4-119.6-56.6-56.6-207 2.2-336 131.2-96.4 96.2-152.4 198.8-152.4 287.4 0 169.2 217.2 272.2 429.6 272.2 278.4 0 463.8-161.8 463.8-290.2 0-77.8-65.4-121.8-124.2-140z"></path>
          <path class="path2" d="M954.2 218.6c-67.2-74.6-166.4-103-258-83.6v0c-21.2 4.6-34.6 25.4-30 46.4 4.6 21.2 25.2 34.6 46.4 30 65.2-13.8 135.6 6.4 183.4 59.4s60.8 125.2 40.2 188.4v0c-6.6 20.6 4.6 42.6 25.2 49.4 20.6 6.6 42.6-4.6 49.4-25.2v-0.2c28.8-88.4 10.6-190-56.6-264.6z"></path>
          <path class="path3" d="M850.8 312c-32.8-36.4-81.2-50.2-125.6-40.6-18.2 3.8-29.8 22-26 40.2 4 18.2 22 29.8 40 25.8v0c21.8-4.6 45.4 2.2 61.4 19.8 16 17.8 20.4 42 13.4 63.2v0c-5.6 17.6 4 36.8 21.8 42.6 17.8 5.6 36.8-4 42.6-21.8 14-43.4 5.2-93-27.6-129.2z"></path>
          <path class="path4" d="M439.6 696.6c-6 10.2-19 15-29.2 10.8-10.2-4-13.2-15.6-7.4-25.4 6-9.8 18.6-14.6 28.6-10.8 10 3.6 13.6 15 8 25.4zM385.4 765.8c-16.4 26.2-51.6 37.6-78 25.6-26-11.8-33.8-42.2-17.4-67.8 16.2-25.4 50.2-36.8 76.4-25.8 26.6 11.4 35.2 41.6 19 68zM447 580.6c-80.6-21-171.8 19.2-206.8 90.2-35.8 72.4-1.2 153 80.2 179.4 84.4 27.2 184-14.6 218.6-92.6 34.2-76.6-8.4-155.2-92-177z"></path>
        </symbol>
        <symbol id="icon-rss" viewBox="0 0 1024 1024">
          <title>rss</title>
          <path class="path1" d="M136.294 750.93c-75.196 0-136.292 61.334-136.292 136.076 0 75.154 61.1 135.802 136.292 135.802 75.466 0 136.494-60.648 136.494-135.802-0.002-74.742-61.024-136.076-136.494-136.076zM0.156 347.93v196.258c127.784 0 247.958 49.972 338.458 140.512 90.384 90.318 140.282 211.036 140.282 339.3h197.122c-0.002-372.82-303.282-676.070-675.862-676.070zM0.388 0v196.356c455.782 0 826.756 371.334 826.756 827.644h196.856c0-564.47-459.254-1024-1023.612-1024z"></path>
        </symbol>
        <symbol id="icon-github" viewBox="0 0 1024 1024">
          <title>github</title>
          <path class="path1" d="M512.008 12.642c-282.738 0-512.008 229.218-512.008 511.998 0 226.214 146.704 418.132 350.136 485.836 25.586 4.738 34.992-11.11 34.992-24.632 0-12.204-0.48-52.542-0.696-95.324-142.448 30.976-172.504-60.41-172.504-60.41-23.282-59.176-56.848-74.916-56.848-74.916-46.452-31.778 3.51-31.124 3.51-31.124 51.4 3.61 78.476 52.766 78.476 52.766 45.672 78.27 119.776 55.64 149.004 42.558 4.588-33.086 17.852-55.68 32.506-68.464-113.73-12.942-233.276-56.85-233.276-253.032 0-55.898 20.004-101.574 52.76-137.428-5.316-12.9-22.854-64.972 4.952-135.5 0 0 43.006-13.752 140.84 52.49 40.836-11.348 84.636-17.036 128.154-17.234 43.502 0.198 87.336 5.886 128.256 17.234 97.734-66.244 140.656-52.49 140.656-52.49 27.872 70.528 10.35 122.6 5.036 135.5 32.82 35.856 52.694 81.532 52.694 137.428 0 196.654-119.778 239.95-233.79 252.624 18.364 15.89 34.724 47.046 34.724 94.812 0 68.508-0.596 123.644-0.596 140.508 0 13.628 9.222 29.594 35.172 24.566 203.322-67.776 349.842-259.626 349.842-485.768 0-282.78-229.234-511.998-511.992-511.998z"></path>
        </symbol>

        <symbol id="icon-deploy" viewBox="0 0 1024 1024">
          <title>deploy</title>
          <path class="path1" d="M902 32L992 92.192l-90.912 855.264L812 992l-212.336-136.256L294.176 992l-82.176-60 30-298.176L32 475.008v-117.344L902 32z m-153.056 197.456L177.072 431.168l184.928 140.928-30 273.44 272.336-123.168 181.632 119.952 67.616-544.208L577.92 636.304l-101.232-82.88L748.944 229.44z" fill="#0078FF" p-id="2531"></path>
        </symbol>

      </defs>
    </svg>
  </div>
  <div class="surface-content">
    <header class="site-header">
  <hgroup>
    <h1 class="site-title">
      <a href="http://zhuweisheng.com.cn" class="logo" title="从前端菜鸟到前端码农">碎碎念ZWS</a>
    </h1>
    <p class="site-description">做一个爱写笔记的攻城狮，记录生活，记录你</p>
  </hgroup>
  <div class="site-nav">
    <ul class="topNav-items">
      
        <li class="menu-item"><a class="main-nav-link" href="/">首页</a></li>
      
        <li class="menu-item"><a class="main-nav-link" href="/categories">分类</a></li>
      
        <li class="menu-item"><a class="main-nav-link" href="/friends">链接</a></li>
      
        <li class="menu-item"><a class="main-nav-link" href="/we">我们</a></li>
      
        <li class="menu-item"><a class="main-nav-link" href="/archives">归档</a></li>
      
        <li class="menu-item"><a class="main-nav-link" href="/tags">标签</a></li>
      
        <li class="menu-item"><a class="main-nav-link" href="/about">关于</a></li>
      
    </ul>
  </div>
  <div class="site-icons">
    
      <a href="/sitemap.xml" target="_blank" class="rss-link"><svg class="icon icon-rss"><use xlink:href="#icon-rss"></use></svg></a>
    
      <a href="https://github.com/nooldey" target="_blank" class="rss-link"><svg class="icon icon-github"><use xlink:href="#icon-github"></use></svg></a>
    
      <a href="/love" target="_blank" class="rss-link"><svg class="icon icon-heart"><use xlink:href="#icon-heart"></use></svg></a>
    
  </div>
</header>
    <div class="container">
      <section class="main-content"><article id="post-wordpress/wp-slider" class="post-item">
  
  <header class="post-header">
    
  
    <h2 class="post-title">
      给你的wordpress添加幻灯片吧！
    </h2>
  

    <div class="post-meta">
      <time class="article-date" datetime="2013-10-10T06:45:56.000Z" itemprop="datePublished">2013-10-10</time>

    </div>
  </header>
  

  <div class="grap">
    <p>一个精美的幻灯片，对于追求完美博客，做出精品网站的你，绝对是必不可少的！</p>
<p>wordpress的拓展性非常强，普普通通的页面，在程序猿、攻城狮的手上，必定是花开灿烂，光艳照人啊！</p>
<p>碎碎念已经痴迷上了wordpress博客设计了，放牛哥说我博客做不好就不舒服是种病，得治！我个人觉得，这不是一种病，这是一种怪病，爱上设计的怪病，一般人追求一个东西，是达到极致即可，而我，总是在达到一定的层面后，突然的一个想法，就让我把前面垒起的高塔统统推倒，从新来过，势必做到惊天地泣鬼神，结果，还没震撼到别人，碎碎念自己已经瘫倒在地，哀鸣着：“这特么，不是我要的效果呀！！不精彩，不华丽，不完美啊！！！”话毕，吐了一地的鸡血啊！然后把鸡血收拾收拾，重新开始上路了。。。。</p>
<span id="more"></span>

<p>今天给大家说说我这个图文幻灯片的结构吧。貌似，我已经很久没有出来爆代码了~~</p>
<h3 id="添加后台设置"><a href="#添加后台设置" class="headerlink" title="添加后台设置"></a>添加后台设置</h3><p>首先，在网站后台设置文件theme_options.php添加幻灯片的开关和设置选项：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">array</span><span class="token punctuation">(</span>  <span class="token string double-quoted-string">"name"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"是否显示幻灯片"</span><span class="token punctuation">,</span>   
        <span class="token string double-quoted-string">"desc"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"默认显示"</span><span class="token punctuation">,</span>   
        <span class="token string double-quoted-string">"id"</span> <span class="token operator">=></span> <span class="token variable">$shortname</span><span class="token operator">.</span><span class="token string double-quoted-string">"_slider"</span><span class="token punctuation">,</span>   
        <span class="token string double-quoted-string">"type"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"select"</span><span class="token punctuation">,</span>   
        <span class="token string double-quoted-string">"std"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"Hide"</span><span class="token punctuation">,</span>   
        <span class="token string double-quoted-string">"options"</span> <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Display"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"Hide"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        
<span class="token keyword">array</span><span class="token punctuation">(</span>  <span class="token string double-quoted-string">"name"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"&lt;span class='child'>显示多少篇文章&lt;/span>"</span><span class="token punctuation">,</span>   
        <span class="token string double-quoted-string">"id"</span> <span class="token operator">=></span> <span class="token variable">$shortname</span><span class="token operator">.</span><span class="token string double-quoted-string">"_sliderx"</span><span class="token punctuation">,</span>   
        <span class="token string double-quoted-string">"type"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"text"</span><span class="token punctuation">,</span>   
        <span class="token string double-quoted-string">"std"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"5"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>         
<span class="token keyword">array</span><span class="token punctuation">(</span>  <span class="token string double-quoted-string">"name"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"&lt;span class='child'>选择幻灯片显示的内容&lt;/span>"</span><span class="token punctuation">,</span>   
        <span class="token string double-quoted-string">"desc"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"&lt;span class='child'>默认显示【置顶文章】，如果你选择【特定分类的文章】，请接着设置下面的选项&lt;/span>"</span><span class="token punctuation">,</span>   
        <span class="token string double-quoted-string">"id"</span> <span class="token operator">=></span> <span class="token variable">$shortname</span><span class="token operator">.</span><span class="token string double-quoted-string">"_sliders"</span><span class="token punctuation">,</span>   
        <span class="token string double-quoted-string">"type"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"select"</span><span class="token punctuation">,</span>   
        <span class="token string double-quoted-string">"std"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"置顶文章"</span><span class="token punctuation">,</span>   
        <span class="token string double-quoted-string">"options"</span> <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"置顶文章"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"特定分类的文章"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   
<span class="token keyword">array</span><span class="token punctuation">(</span>  <span class="token string double-quoted-string">"name"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"&lt;span class='child'>幻灯片显示的特定分类ID&lt;/span>"</span><span class="token punctuation">,</span>   
        <span class="token string double-quoted-string">"desc"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"&lt;span class='child'>输入分类ID，多个分类ID请用英文逗号＂,＂隔开&lt;/span>"</span><span class="token punctuation">,</span>   
        <span class="token string double-quoted-string">"id"</span> <span class="token operator">=></span> <span class="token variable">$shortname</span><span class="token operator">.</span><span class="token string double-quoted-string">"_cat_slider"</span><span class="token punctuation">,</span>   
        <span class="token string double-quoted-string">"type"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"text"</span><span class="token punctuation">,</span>   
        <span class="token string double-quoted-string">"std"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"1,2,3,4"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>这里，我们提供了幻灯片是否开启、显示文章个数、显示文章类别（特定分类或者置顶文章）。一般来说，如果开启幻灯片，最适合的文章数量为5个，显示的为置顶文章。</p>
<h3 id="构建幻灯片html文件"><a href="#构建幻灯片html文件" class="headerlink" title="构建幻灯片html文件"></a>构建幻灯片html文件</h3><p>接着，我们在includes目录下新建一个slider.php ，输入以下代码：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   
        <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_option</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'swt_sliders'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string single-quoted-string">'特定分类的文章'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token delimiter important">?></span></span>   
        <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">include</span><span class="token punctuation">(</span><span class="token constant">TEMPLATEPATH</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/includes/cat_slider.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span>   
        <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token keyword">include</span><span class="token punctuation">(</span><span class="token constant">TEMPLATEPATH</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/includes/sti_slider.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token delimiter important">?></span></span>        
            <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">have_posts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token delimiter important">?></span></span>   
            <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">have_posts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token class-name return-type">the_post</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span>   
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pic<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token function">the_permalink</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bookmark<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token function">the_title</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   
        <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">has_post_thumbnail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">the_post_thumbnail</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'thumbnail'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token delimiter important">?></span></span>   
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>home-thumb<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token function">the_title</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token function">catch_first_image</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token function">the_title</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>   
        <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token punctuation">&#125;</span> <span class="token delimiter important">?></span></span>   
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>   
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>con_post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token function">mb_strimwidth</span><span class="token punctuation">(</span><span class="token function">strip_tags</span><span class="token punctuation">(</span><span class="token function">apply_filters</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'the_excerpt'</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-></span><span class="token property">post_content</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>   
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>slititle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token function">the_permalink</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bookmark<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>猛戳畅读 《<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token function">the_title_attribute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span>》<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token function">mb_strimwidth</span><span class="token punctuation">(</span><span class="token function">get_the_title</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>   
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>   
 <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">endwhile</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span>   
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">endif</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>   
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>control<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>   
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clear0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>   
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>其中，<code>&lt;?php if (has_post_thumbnail()) &#123; the_post_thumbnail(&#39;thumbnail&#39;); &#125; else &#123; ?&gt;&lt;img class=&quot;home-thumb&quot; title=&quot;&lt;?php the_title(); ?&gt;&quot; src=&quot;&lt;?php echo catch_first_image() ?&gt;&quot; alt=&quot;&lt;?php the_title(); ?&gt;&quot;/&gt;&lt;?php &#125; ?&gt;</code>是调用文章首张图片的缩略图，如果没有，则调用主题默认图片。可以直接替换为你自己主题的图片调用代码，这里仅针对本站主题说明。</p>
<h4 id="子模块文件"><a href="#子模块文件" class="headerlink" title="子模块文件"></a>子模块文件</h4><p>幻灯片文件建立后，我们还需要两个文章，一个用来调用置顶文章，一个用来调用特定分类文章。在slider.php中，我们调用了这两个文件：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_option</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'swt_sliders'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string single-quoted-string">'特定分类的文章'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token delimiter important">?></span></span>   
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">include</span><span class="token punctuation">(</span><span class="token constant">TEMPLATEPATH</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/includes/cat_slider.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span>   
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token keyword">include</span><span class="token punctuation">(</span><span class="token constant">TEMPLATEPATH</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/includes/sti_slider.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token delimiter important">?></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>特定分类文章cat_slider.php和置顶文章sti_slider.php<br>在slider.php所在同级目录includes下新建cat_slider.php，键入以下代码：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>   
    <span class="token variable">$cat_slider</span> <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token string single-quoted-string">','</span><span class="token punctuation">,</span> <span class="token function">get_option</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'swt_cat_slider'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token variable">$sliderx</span> <span class="token operator">=</span> <span class="token function">get_option</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'swt_sliderx'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token function">query_posts</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span>   
        <span class="token string single-quoted-string">'posts_per_page'</span> <span class="token operator">=></span><span class="token variable">$sliderx</span><span class="token punctuation">,</span>   
        <span class="token string single-quoted-string">'category__in'</span> <span class="token operator">=></span><span class="token variable">$cat_slider</span><span class="token punctuation">,</span>   
        <span class="token string single-quoted-string">'caller_get_posts'</span> <span class="token operator">=></span> <span class="token number">10</span><span class="token punctuation">,</span>   
        <span class="token punctuation">)</span>   
    <span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token delimiter important">?></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>注意，这里最多调用10篇置顶文章，相信一般也不会超过这个数的。</p>
<p>同样地，我们建立sti_slider.php，键入下列代码：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>    
    <span class="token variable">$sliderx</span> <span class="token operator">=</span> <span class="token function">get_option</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'swt_sliderx'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token function">query_posts</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span>   
        <span class="token string single-quoted-string">'posts_per_page'</span> <span class="token operator">=></span><span class="token variable">$sliderx</span><span class="token punctuation">,</span>   
        <span class="token string single-quoted-string">'post__in'</span>  <span class="token operator">=></span> <span class="token function">get_option</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'sticky_posts'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   
        <span class="token string single-quoted-string">'caller_get_posts'</span> <span class="token operator">=></span> <span class="token number">10</span>   
        <span class="token punctuation">)</span>   
    <span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token delimiter important">?></span></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="幻灯片javascript脚本"><a href="#幻灯片javascript脚本" class="headerlink" title="幻灯片javascript脚本"></a>幻灯片javascript脚本</h3><p>幻灯片的内容设置完了，还差什么呢？<br>还差一个JS来让它动起来！我比较喜欢特别一点的效果，所以就让幻灯片从下往上渐变切换，采用的是百度有啊的广告幻灯源码，修改方向和各种参数，层叠切换，抽离的感觉啊有木有！把切换时间调小，切换超爽快！<br>在JS文件夹下新建一个slider.js :</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">autoslider</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span>   
    <span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token keyword">this</span><span class="token punctuation">.</span>container<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"container"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token keyword">this</span><span class="token punctuation">.</span>control<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"control"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token operator">=</span><span class="token function">$$$</span><span class="token punctuation">(</span><span class="token string">"item"</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token keyword">this</span><span class="token punctuation">.</span>iCenter<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>   
    <span class="token keyword">this</span><span class="token punctuation">.</span>aSort<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   
    <span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>   
    <span class="token keyword">this</span><span class="token punctuation">.</span>oData<span class="token operator">=</span><span class="token punctuation">[</span>   
        <span class="token punctuation">&#123;</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">440</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">zIndex</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token literal-property property">opacity</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>   
        <span class="token punctuation">&#123;</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">220</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">zIndex</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token literal-property property">opacity</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>   
        <span class="token punctuation">&#123;</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">zIndex</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token literal-property property">opacity</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>   
        <span class="token punctuation">&#123;</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token number">220</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">zIndex</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token literal-property property">opacity</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>   
        <span class="token punctuation">&#123;</span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token number">440</span><span class="token punctuation">,</span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">zIndex</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token literal-property property">opacity</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">&#125;</span>   
    <span class="token punctuation">]</span><span class="token punctuation">;</span>   
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">__create__</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>   
    autoslider<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">__create__</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">var</span> that<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>   
<span class="token keyword">var</span> oSpan<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>   
<span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>   

<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>that<span class="token punctuation">.</span>items<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span>that<span class="token punctuation">.</span>items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>number<span class="token operator">=</span>i<span class="token punctuation">;</span>   
that<span class="token punctuation">.</span>aSort<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>that<span class="token punctuation">.</span>items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>   
oSpan<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
oSpan<span class="token punctuation">.</span>number<span class="token operator">=</span>i<span class="token punctuation">;</span>   
that<span class="token punctuation">.</span>control<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>oSpan<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>   
  
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>aSort<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>aSort<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
that<span class="token punctuation">.</span>aSpan<span class="token operator">=</span><span class="token function">$$</span><span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">,</span>that<span class="token punctuation">.</span>control<span class="token punctuation">)</span><span class="token punctuation">;</span>   
that<span class="token punctuation">.</span>control<span class="token punctuation">.</span><span class="token function-variable function">onmouseover</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span>   
  
<span class="token punctuation">&#123;</span><span class="token keyword">var</span> oEv<span class="token operator">=</span>ev<span class="token operator">||</span>event<span class="token punctuation">;</span>   
<span class="token keyword">var</span> oTarget<span class="token operator">=</span>oEv<span class="token punctuation">.</span>target<span class="token operator">||</span>oEv<span class="token punctuation">.</span>srcElement<span class="token punctuation">;</span>   
<span class="token keyword">if</span><span class="token punctuation">(</span>oTarget<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">"SPAN"</span><span class="token punctuation">)</span>   
  
<span class="token punctuation">&#123;</span>that<span class="token punctuation">.</span>aSort<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>number<span class="token operator">-</span>b<span class="token punctuation">.</span>number<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
  
<span class="token keyword">if</span><span class="token punctuation">(</span>oTarget<span class="token punctuation">.</span>number<span class="token operator">&lt;</span>that<span class="token punctuation">.</span>iCenter<span class="token punctuation">)</span>   
  
<span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>that<span class="token punctuation">.</span>iCenter<span class="token operator">-</span>oTarget<span class="token punctuation">.</span>number<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>   
    that<span class="token punctuation">.</span>aSort<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>aSort<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
that<span class="token punctuation">.</span><span class="token function">__set__</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">&#125;</span>   
  
<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>oTarget<span class="token punctuation">.</span>number<span class="token operator">></span>that<span class="token punctuation">.</span>iCenter<span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>   
i<span class="token operator">&lt;</span>oTarget<span class="token punctuation">.</span>number<span class="token operator">-</span>that<span class="token punctuation">.</span>iCenter<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>that<span class="token punctuation">.</span>aSort<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>aSort<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
that<span class="token punctuation">.</span><span class="token function">__set__</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">&#125;</span>   
  
<span class="token keyword">else</span>  
<span class="token punctuation">&#123;</span>that<span class="token punctuation">.</span><span class="token function">__set__</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>   
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">__set__</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">__switch__</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">__autoPlay__</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>   
autoslider<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">__set__</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   
  
<span class="token punctuation">&#123;</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>   
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>   
i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>aSort<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>aSort<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>   
i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>aSpan<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>aSpan<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>className<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>   
<span class="token keyword">this</span><span class="token punctuation">.</span>aSpan<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>aSort<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>iCenter<span class="token punctuation">]</span><span class="token punctuation">.</span>number<span class="token punctuation">]</span><span class="token punctuation">.</span>className<span class="token operator">=</span><span class="token string">"active"</span><span class="token punctuation">;</span>   
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>aSort<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>   
  
<span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>aSort<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>index<span class="token operator">=</span>i<span class="token punctuation">;</span>   
<span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">new</span> <span class="token class-name">Animate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>aSort<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>oData<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token keyword">else</span>  
<span class="token punctuation">&#123;</span><span class="token keyword">new</span> <span class="token class-name">Animate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>aSort<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>oData<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>oData<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>   
autoslider<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">__switch__</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>   
<span class="token keyword">var</span> that<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>   
<span class="token keyword">this</span><span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">var</span> oEv<span class="token operator">=</span>ev<span class="token operator">||</span>event<span class="token punctuation">;</span>   
<span class="token keyword">var</span> oTarget<span class="token operator">=</span>oEv<span class="token punctuation">.</span>target<span class="token operator">||</span>oEv<span class="token punctuation">.</span>srcElement<span class="token punctuation">;</span>   
<span class="token keyword">var</span> index<span class="token operator">=</span><span class="token function">findItem</span><span class="token punctuation">(</span>oTarget<span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token operator">&lt;</span>that<span class="token punctuation">.</span>iCenter<span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>   
i<span class="token operator">&lt;</span>that<span class="token punctuation">.</span>iCenter<span class="token operator">-</span>index<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>that<span class="token punctuation">.</span>aSort<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>aSort<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
that<span class="token punctuation">.</span><span class="token function">__set__</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">&#125;</span>   
<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token operator">></span>that<span class="token punctuation">.</span>iCenter<span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>   
i<span class="token operator">&lt;</span>index<span class="token operator">-</span>that<span class="token punctuation">.</span>iCenter<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>that<span class="token punctuation">.</span>aSort<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>aSort<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
that<span class="token punctuation">.</span><span class="token function">__set__</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">&#125;</span>   
  
<span class="token keyword">function</span> <span class="token function">findItem</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">return</span> element<span class="token punctuation">.</span>className<span class="token operator">==</span><span class="token string">"item"</span><span class="token operator">?</span>element<span class="token punctuation">.</span>index<span class="token operator">:</span>arguments<span class="token punctuation">.</span><span class="token function">callee</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>   
autoslider<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">__autoPlay__</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">var</span> that<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>   
that<span class="token punctuation">.</span>timer<span class="token operator">=</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span>that<span class="token punctuation">.</span>aSort<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
that<span class="token punctuation">.</span>obj<span class="token punctuation">.</span><span class="token function-variable function">onmouseover</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token function">clearInterval</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>   
that<span class="token punctuation">.</span>obj<span class="token punctuation">.</span><span class="token function-variable function">onmouseout</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span>that<span class="token punctuation">.</span>timer<span class="token operator">=</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span>that<span class="token punctuation">.</span>aSort<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>   
  
<span class="token keyword">function</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token keyword">typeof</span> id<span class="token operator">===</span><span class="token string">"string"</span><span class="token operator">?</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token operator">:</span>id<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>   
<span class="token keyword">function</span> <span class="token function">$$</span><span class="token punctuation">(</span><span class="token parameter">tagName<span class="token punctuation">,</span>oParent</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">return</span><span class="token punctuation">(</span>oParent<span class="token operator">||</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span>tagName<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>   
<span class="token keyword">function</span> <span class="token function">$$$</span><span class="token punctuation">(</span><span class="token parameter">className<span class="token punctuation">,</span>element<span class="token punctuation">,</span>tagName</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>   
<span class="token keyword">var</span> aClass<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   
<span class="token keyword">var</span> reClass<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">"(^|//s)"</span><span class="token operator">+</span>className<span class="token operator">+</span><span class="token string">"(//s|$)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token keyword">var</span> aElement<span class="token operator">=</span><span class="token function">$$</span><span class="token punctuation">(</span>tagName<span class="token operator">||</span><span class="token string">"*"</span><span class="token punctuation">,</span>element<span class="token operator">||</span>document<span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>aElement<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>reClass<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>aElement<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>aClass<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>aElement<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token keyword">return</span> aClass<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>   
<span class="token keyword">function</span> <span class="token function">css</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>attr<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">===</span><span class="token string">"string"</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">return</span> element<span class="token punctuation">.</span>currentStyle<span class="token operator">?</span>element<span class="token punctuation">.</span>currentStyle<span class="token punctuation">[</span>attr<span class="token punctuation">]</span><span class="token operator">:</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">[</span>attr<span class="token punctuation">]</span><span class="token punctuation">&#125;</span>   
<span class="token keyword">else</span>  
<span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> property <span class="token keyword">in</span> attr<span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span>property<span class="token operator">==</span><span class="token string">"opacity"</span><span class="token operator">?</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>filter<span class="token operator">=</span><span class="token string">"alpha(opacity="</span><span class="token operator">+</span>attr<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">")"</span><span class="token punctuation">,</span>element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity<span class="token operator">=</span>attr<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token operator">/</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token operator">:</span>element<span class="token punctuation">.</span>style<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token operator">=</span>attr<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>   
<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">switch</span><span class="token punctuation">(</span>attr<span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">case</span><span class="token string">"width"</span><span class="token operator">:</span><span class="token keyword">case</span><span class="token string">"height"</span><span class="token operator">:</span><span class="token keyword">case</span><span class="token string">"top"</span><span class="token operator">:</span><span class="token keyword">case</span><span class="token string">"left"</span><span class="token operator">:</span><span class="token keyword">case</span><span class="token string">"right"</span><span class="token operator">:</span><span class="token keyword">case</span><span class="token string">"bottom"</span><span class="token operator">:</span>element<span class="token punctuation">.</span>style<span class="token punctuation">[</span>attr<span class="token punctuation">]</span><span class="token operator">=</span>value<span class="token operator">+</span><span class="token string">"px"</span><span class="token punctuation">;</span>   
<span class="token keyword">break</span><span class="token punctuation">;</span>   
<span class="token keyword">case</span><span class="token string">"opacity"</span><span class="token operator">:</span>element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>filter<span class="token operator">=</span><span class="token string">"alpha(opacity="</span><span class="token operator">+</span>value<span class="token operator">+</span><span class="token string">")"</span><span class="token punctuation">;</span>   
element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity<span class="token operator">=</span>value<span class="token operator">/</span><span class="token number">100</span><span class="token punctuation">;</span>   
<span class="token keyword">break</span><span class="token punctuation">;</span>   
<span class="token keyword">default</span><span class="token operator">:</span>element<span class="token punctuation">.</span>style<span class="token punctuation">[</span>attr<span class="token punctuation">]</span><span class="token operator">=</span>value<span class="token punctuation">;</span>   
<span class="token keyword">break</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>   
<span class="token keyword">return</span> element<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>   
<span class="token keyword">function</span> <span class="token function">Animate</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>options<span class="token punctuation">,</span>fnCallBack</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token operator">=</span>options<span class="token punctuation">;</span>   
<span class="token keyword">this</span><span class="token punctuation">.</span>__onEnd__<span class="token operator">=</span>fnCallBack<span class="token punctuation">;</span>   
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">__startMove__</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>   
<span class="token class-name">Animate</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">__startMove__</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">var</span> that<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>   
<span class="token function">clearInterval</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>obj<span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>   
that<span class="token punctuation">.</span>obj<span class="token punctuation">.</span>timer<span class="token operator">=</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span>that<span class="token punctuation">.</span><span class="token function">__doMove__</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>   
<span class="token class-name">Animate</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">__doMove__</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">var</span> complete<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>   
<span class="token keyword">var</span> property<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>   
<span class="token keyword">for</span><span class="token punctuation">(</span>property <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">var</span> iCur<span class="token operator">=</span><span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token punctuation">,</span>property<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
property<span class="token operator">==</span><span class="token string">"opacity"</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>iCur<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>iCur<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token keyword">var</span> iSpeed<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token operator">-</span>iCur<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">5</span><span class="token punctuation">;</span>   
iSpeed<span class="token operator">=</span>iSpeed<span class="token operator">></span><span class="token number">0</span><span class="token operator">?</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>iSpeed<span class="token punctuation">)</span><span class="token operator">:</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>iSpeed<span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token operator">==</span>iCur<span class="token operator">||</span><span class="token punctuation">(</span>complete<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token punctuation">,</span>property<span class="token punctuation">,</span>iSpeed<span class="token operator">+</span>iCur<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>   
complete<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span><span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>__onEnd__<span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">__onEnd__</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>   
window<span class="token punctuation">.</span><span class="token function-variable function">onload</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span><span class="token keyword">new</span> <span class="token class-name">autoslider</span><span class="token punctuation">(</span><span class="token string">"box"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>说明：（以上JS代码源自百度有啊，仅供开发设计参考，严禁用于商业用途，否则后果自负！）由于WP调用的是jquery库，所以把<code>$</code>都换成<code>jQuery</code>了!</p>
<p>（如果在进行其他wordpress调用js测试的过程中出现js失效，很有可能就是你复制过来的JS代码没有把<code>$</code>转换成<code>jQuery</code>。改变它，你会发现一切都那么顺利！）</p>
<h3 id="前台调用幻灯片"><a href="#前台调用幻灯片" class="headerlink" title="前台调用幻灯片"></a>前台调用幻灯片</h3><p>幻灯片前台后台的排版和动作都设置完了，接下来，要在调用的地方来调用幻灯片，以Mystyle为例，我们在首页index.php调用幻灯片：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_option</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'swt_slider'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string single-quoted-string">'Display'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token delimiter important">?></span></span>   
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">include</span><span class="token punctuation">(</span><span class="token constant">TEMPLATEPATH</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/includes/slider.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//幻灯片</span><span class="token delimiter important">?></span></span>   
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token function">bloginfo</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'template_directory'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span>/js/slider.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>   
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token delimiter important">?></span></span>   
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clear<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>嗯，我们的准备都完成了，好像幻灯片已经准备就绪了吧，要不就直接put上去吧！No,no,no，还不能上线。纳尼！？</p>
<h3 id="CSS样式"><a href="#CSS样式" class="headerlink" title="CSS样式"></a>CSS样式</h3><p>还缺少什么呀？<br>缺少样式呀骚年，木有样式你叫我看个XX啊？<br>大叔！你早点说嘛！敲得我头痛死了！<br>咳咳！样式表，拿去吧！从此，你就自己LU去吧！<br>style.css加入：</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/** 幻灯片 **/</span>  
<span class="token selector">li</span><span class="token punctuation">&#123;</span><span class="token property">list-style</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token selector">#box</span><span class="token punctuation">&#123;</span><span class="token property">width</span><span class="token punctuation">:</span> 718px<span class="token punctuation">;</span><span class="token property">margin</span><span class="token punctuation">:</span>-18px auto 5px auto<span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span><span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> inset 0 -1px 10px #ddd<span class="token punctuation">;</span>  <span class="token property">-moz-box-shadow</span><span class="token punctuation">:</span>inset 0 -1px 10px #ddd<span class="token punctuation">;</span>  <span class="token property">box-shadow</span><span class="token punctuation">:</span>inset 0 -1px 10px #ddd<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token selector">#container</span><span class="token punctuation">&#123;</span><span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 222px<span class="token punctuation">;</span><span class="token property">z-index</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span>#FFFFFF<span class="token punctuation">;</span><span class="token property">overflow</span><span class="token punctuation">:</span>hidden<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span>2px 0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token selector">#container .item</span><span class="token punctuation">&#123;</span><span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span><span class="token property">top</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span><span class="token property">z-index</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span> 718px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 220px<span class="token punctuation">;</span><span class="token property">opacity</span><span class="token punctuation">:</span>1<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span>#ffffff<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token selector">#container .item .pic</span><span class="token punctuation">&#123;</span> <span class="token property">float</span><span class="token punctuation">:</span>left<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> 277px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 220px<span class="token punctuation">;</span><span class="token property">display</span><span class="token punctuation">:</span>inline<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token selector">#container .item .pic a</span><span class="token punctuation">&#123;</span> <span class="token property">color</span><span class="token punctuation">:</span>#333333<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>   
<span class="token selector">#container .item .pic a:hover</span><span class="token punctuation">&#123;</span> <span class="token property">color</span><span class="token punctuation">:</span>#0088bb<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>   
<span class="token selector">#container .item .pic img</span><span class="token punctuation">&#123;</span><span class="token property">width</span><span class="token punctuation">:</span> 257px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span><span class="token property">vertical-align</span><span class="token punctuation">:</span>top<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token selector">#container .home-thumb</span> <span class="token punctuation">&#123;</span><span class="token property">max-height</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token selector">.con_post</span> <span class="token punctuation">&#123;</span><span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span> 417px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 196px<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span><span class="token property">line-height</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span><span class="token property">text-indent</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token selector">.slititle</span> <span class="token punctuation">&#123;</span><span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span><span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token selector">.slititle h3</span> <span class="token punctuation">&#123;</span><span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span><span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token selector">.slititle h3 a</span><span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span>#000<span class="token punctuation">;</span><span class="token property">border-bottom</span><span class="token punctuation">:</span> 2px solid #08B<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token selector">.slititle h3 a:hover</span><span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span>#0088bb<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token selector">#control</span><span class="token punctuation">&#123;</span><span class="token property">height</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span> 278px<span class="token punctuation">;</span><span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token selector">#control span</span><span class="token punctuation">&#123;</span><span class="token property">width</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span><span class="token property">line-height</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span><span class="token property">cursor</span><span class="token punctuation">:</span>pointer<span class="token punctuation">;</span><span class="token property">display</span><span class="token punctuation">:</span>inline-block<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span> #08b<span class="token punctuation">;</span><span class="token property">margin-right</span><span class="token punctuation">:</span>5px<span class="token punctuation">;</span><span class="token property">margin-top</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token selector">#control span.active</span><span class="token punctuation">&#123;</span><span class="token property">background</span><span class="token punctuation">:</span> #F0586C<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token selector">.slider_num</span><span class="token punctuation">&#123;</span><span class="token property">float</span><span class="token punctuation">:</span>right<span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span>12px<span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span>1px 5px 0 5px<span class="token punctuation">;</span><span class="token property">line-height</span><span class="token punctuation">:</span>20px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span>20px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token selector">.slider_num a:link</span><span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span>#0088bb<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   
<span class="token selector">.slider_num a:hover</span><span class="token punctuation">&#123;</span><span class="token property">text-decoration</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span>#C05732<span class="token punctuation">;</span><span class="token property">margin</span><span class="token punctuation">:</span>5px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>严重声明（不是郑重声明咩？O(╯□╰)o）：本幻灯片PHP代码来源于奶酪设计RayCMS主题，JS代码源自百度有啊，经碎碎念修改制作而成，本文涉及内容仅供设计参考，严禁用于商业用途！</p>

  </div>

  
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WordPress%E4%BC%98%E5%8C%96/" rel="tag">WordPress优化</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/wordpress%E4%B8%BB%E9%A2%98/" rel="tag">wordpress主题</a></li></ul>
  

  
</article>


<div class="author-info u-clearfix">
	
	<img class="avatar" src="/img/avatar.png" alt="NOOLDEY">
	
	<div class="author-content">
		<div class="author-description">
			<p>本文作者：NOOLDEY</p>
			<p>做一个诗情画意的码农，皮皮猪，我们走！</p>
			<p>原文链接：
				<a href="http://zhuweisheng.com.cn/wordpress/wp-slider/">http://zhuweisheng.com.cn/wordpress/wp-slider/</a>
			</p>
			<b>本站文章如无特殊声明均为原创，创作不易，转载请注明来源，谢谢！</b>
		</div>
	</div>
</div>


<!-- 目录 -->


<!-- 评论留言 -->


<div id="comments">
  
  <div id="issues"></div>
  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
  <script>
    var gitalk = new Gitalk({
      clientID: '2175e96bf1778b0e1969',
      clientSecret: 'b696be3126f6a6364c6fb6adffd398c075e14b07',
      repo: 'nooldey.github.io',
      owner: 'nooldey',
      admin: ['nooldey'],
      id: '/wordpress/wp-slider/', // Ensure uniqueness and length less than 50
      distractionFreeMode: false // Facebook-like distraction free mode
    })
    gitalk.render('issues')
  </script>
  
  <!-- 禁用提示 -->
  <noscript> 哎呀，评论功能被禁用了，快启用JavaScript恢复吧！ </noscript>
</div>

</section>
    </div>
    
	<footer class="site-footer">
		<div class="footer-info">
			<p>
				<a href="http://zhuweisheng.com.cn" class="logo">
					碎碎念ZWS
				</a>
				<span>&copy;2013 - 2024</span>
			</p>
			<p>
				<svg class="icon icon-heart">
					<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-heart"></use>
				</svg>
				<a href="https://fatesinger.com" target="_blank" title="Hexo 主题 kana">Theme:Kana</a>.
			</p>
			<p>
				<svg class="icon icon-deploy">
					<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-deploy"></use>
				</svg>
				&nbsp;
				2024-03-16 12:12:09
			</p>
		</div>
		
		<div>
			友情链接：
			
				<a href="https://lizhi.shop/site/search_list?category_id=2&amp;cid=pi9kgw50&amp;order_by=2" target="_blank" class="ftsp">
					荔枝软件
				</a>
			
		</div>
		<section class="love-time">
	<p>猪头和丫头牵手走过了：</p>
	<p class="love-time-count"></p>
	<p class="love-time-asume"></p>
</section>

<script src="/js/timer.js"></script>

	</footer>
	
<script src="/js/app.js"></script>

  </div>
  </body>

  </html>